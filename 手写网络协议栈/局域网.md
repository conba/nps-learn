# 局域网

局域网（Local Area Network, 简称LAN）是指覆盖范围较小的计算机网络，通常用于连接一个居于内（如家庭，办公室，校园）的设备，局域网可以实现是备件的互联互通，资源共享和高效通信。

局域网的优缺点：

优点：

1. 高速率、低延迟
2. 配置灵活，易于扩展
3. 自主管理，可靠性高
4. 资源共享和协作方便

缺点：

1. 覆盖范围有限
2. 当设备数量多时，广播流量可能增加，影响效率
3. 需要额外的安全措施防止内部攻击或者设备未授权接入

# 交换机

交换机（Switch）是计算机网络中的重要设备，用于在局域网（LAN）中连接多个设备（如计算机、打印机、服务器等），并在这些设备之间搞笑的转发数据包

交换机主要工作在**OSI**模型的**数据链路层（第二层）**,有些高级交换机还可以工作在**网络层（第三层）**，具备路由功能。

## 主要功能

1. **数据转发**：

   * 根据设备的MAC地址，将接受到的数据包转发到目标设备
   * 提高局域网内通信效率，避免**广播风暴**

2. **MAC地址表维护**：

   * 交换机会记录局域网内设备的MAC地址和对应的端口

   * 每次接受到数据帧时，交换机会更新MAC地址表，确保下一次通信更快速

3. **全双工通信：**

   * 支持同事发送和接受数据，避免传统集线器的冲突问题

4. **数据隔离（VLAN支持）：**

   * 高级交换机支持划分虚拟局域网**（VLAN）**,实现不同网络之间的逻辑隔离，提升安全性。

5. **带宽管理：**

   * 可以设置每个端口的速率，优化网络资源分配，避免网络拥塞

6. **网络扩展：**

   * 通过多台交换机级联，可以扩展局域网规模

## 工作原理

![](E:\working\github\nps-learn\手写网络协议栈\image\局域网工作原理.jpg)

# 广播

![](E:\working\github\nps-learn\手写网络协议栈\image\广播1.jpg)

![](E:\working\github\nps-learn\手写网络协议栈\image\广播2.jpg)

3. **全网广播（All-network Broadcast）**

## 广播的典型应用

1. **ARP（地址协议解析）**
   * 在局域网中，将IP地址解析为MAC地址时会发送广播请求
   * 示例：
     1. 设备A需要通信，但只知道设备B的IP地址。
     2. A向广播地址发送ARP请求，迅为“谁是IP地址192.168.1.10”
     3. B接收到广播并响应自己的MAC地址
2. **DHCP（动态主机配置协议）**
   * 设备初次连接网络时，发送广播请求寻找DHCP服务器。
   * DHCP服务器通过广播返回IP地址分配信息。
3. **网络服务发现：**
   * 如SMB文件共享或打印机发现，使用广播让设备知道服务的存在
4. **组播协议初始化：**
   * 某些组播协议在初始化时会利用广播建立通信组。
   * 